!function(t){function e(n){if(o[n])return o[n].exports;var l=o[n]={i:n,l:!1,exports:{}};return t[n].call(l.exports,l,l.exports,e),l.l=!0,l.exports}var o={};e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function n(t,e,o){return{restrict:"E",template:['<div class="col-md-12">','  <button type="button" class="btn btn-default" ng-click="newModal()">{{name}}</button>','  <ul class="list-group">','    <li ng-repeat="child in children" class="list-group-item">','      <div class="row">','        <div ng-hide="property" class="col-md-8" ng-transclude></div>','        <div ng-show="property" class="col-md-8">{{::child[property]}}</div>','        <div class="col-md-4">','          <button type="button" class="{{::removeButtonClass}}" title="{{::removeButtonTitle}}" ng-click="removeFromList(child)">','            <i class="{{::removeButtonIcon}}"></i> {{::removeButton}}',"          </button>",'          <button type="button" class="{{::editButtonClass}}" title="{{::editButtonTitle}}" ng-click="newModal(child)">','            <i class="{{::editButtonIcon}}"></i> {{::editButton}}',"          </button>","        </div> ","      </div> ","    </li>","  <ul>","</div>",'<div class="clearfix"></div>'].join("\n"),transclude:!0,scope:{children:"=",templateUrl:"@",property:"@displayableProperty",name:"@",size:"@?",controller:"@",onDelete:"&?",onValueVisualizationOpened:"&?",onValueVisualizationClosed:"&?",modalTitle:"@"},link:function(n,l,i){function r(t){s.valueVisualizationClosed(),"{}"!==JSON.stringify(n.etty)?n.children.splice(n.children.indexOf(n.etty),1,t):n.children.push(t)}function u(t){s.delete({$value:t}),n.children.splice(n.children.indexOf(t),1)}function a(t){n.etty={},t&&(n.etty=t),s.valueVisualizationOpened(),e.open({templateUrl:n.templateUrl,size:n.size||"md",controller:n.controller,resolve:{entity:function(){return n.etty},title:function(){return n.modalTitle},populateScope:function(){return o.populateScope}}}).result.then(r)}var s={valueVisualizationOpened:i.onValueVisualizationOpened?n.onValueVisualizationOpened:angular.noop,valueVisualizationClosed:i.onValueVisualizationClosed?n.onValueVisualizationClosed:angular.noop,delete:i.onDelete?n.onDelete:angular.noop};n.newModal=a,n.editButton=i.editButton?t(i.editButton)(n):"Editar",n.editButtonTitle=i.editButtonTitle?t(i.editButtonTitle)(n):"Editar",n.editButtonClass=i.editButtonClass?t(i.editButtonClass)(n):"btn btn-default pull-right btn-sm",n.editButtonIcon=i.editButtonIcon?t(i.editButtonIcon)(n):"glyphicon glyphicon-pencil",n.removeButton=i.removeButton?t(i.removeButton)(n):"Remover",n.removeButtonTitle=i.removeButtonTitle?t(i.removeButtonTitle)(n):"Remover",n.removeButtonClass=i.removeButtonClass?t(i.removeButtonClass)(n):"btn btn-default pull-right btn-sm",n.removeButtonIcon=i.removeButtonIcon?t(i.removeButtonIcon)(n):"glyphicon glyphicon-remove",n.removeFromList=u,n.getFromModal=r,n.name=n.name||"Novo",n.children||console.error("You must provide a list to GumgaOneToMany"),n.templateUrl||console.error("You must provide a templateUrl for the modal"),n.property||console.error("You must provide a property to display in GumgaOneToMany"),n.controller||console.error("You must provide a controller to the modal")}}}n.$inject=["$interpolate","$uibModal","$populate"],angular.module("gumga.onetomany",["gumga.populate"]).directive("gumgaOneToMany",n)}]);