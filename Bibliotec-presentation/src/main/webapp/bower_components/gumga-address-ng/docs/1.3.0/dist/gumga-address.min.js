!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n,a,o){e.value={},e.factoryData=angular.copy(t),e.getCitiesByUF=function(t){delete e.value.localization,delete e.value.premisse,delete e.ceps,n.getLocations(t,o).then(function(t){e.cities=t.data})},e.getPremisseByUFAndCity=function(t,a){delete e.value.premisse,delete e.ceps,n.getPremisseByUFAndCity(t,a,o).then(function(t){e.premisses=t.data})},e.searchCep=function(t,a,r){r&&a&&t&&(e.lookingZipCode=!0,n.searchCepByUfAndCityAndPremisse(t,a,r,o).then(function(t){e.ceps=t.data,e.lookingZipCode=!1}))},e.select=function(e){a.close(e)}};a.$inject=["$scope","factoryData","GumgaAddressService","$uibModalInstance","apiSearchCep"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n\n<div class="modal-header">\n    <h3 class="modal-title">Encontrar cep</h3>\n</div>\n<div class="modal-body" id="modal-body">\n\n  <form>\n    <div class="row">\n      <div class="col-sm-6">\n        <div class="form-group">\n           <label for="UF">UF</label>\n            <select ng-model="value.state" ng-change="getCitiesByUF(value.state)" class="form-control gmd" ng-options="uf for uf in factoryData.ufs"></select>\n        </div>\n      </div>\n      <div class="col-sm-6">\n        <div class="form-group">\n        \t\t<label for="Localidade">Localidade</label>\n        \t\t<input type="text" typeahead-on-select="getPremisseByUFAndCity(value.state, value.localization)" ng-disabled="!value.state || cities.length == 0" placeholder="Digite para buscar..." typeahead-min-length="0" uib-typeahead="city for city in cities | filter:$viewValue | limitTo:8" ng-model="value.localization" class="form-control gmd"/>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-12">\n        <div class="form-group">\n            <label for="Localidade">Logradouro</label>\n            <input type="text"\n              ng-disabled="!value.state || cities.length == 0"\n              placeholder="Digite para buscar..."\n              ng-model-options="{debounce: 1000}"\n              ng-change="searchCep(value.state, value.localization, value.premisse)"\n              ng-model="value.premisse"\n              class="form-control gmd"/>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-sm-12" style="max-height: 200px;overflow: auto;">\n        <label ng-if="lookingZipCode">\n          <i class="glyphicon glyphicon-refresh"></i>\n          Buscando, aguarde um momento...\n        </label>\n        <label ng-if="ceps.length == 0 && !lookingZipCode">\n          Nada encontrado com base na sua pesquisa.\n        </label>\n        <table ng-show="ceps.length > 0 && !lookingZipCode" class="table table-striped">\n            <tr>\n              <th>Bairro</th>\n              <th>Logradouro</th>\n              <th>Cep</th>\n              <th></th>\n            </tr>\n            <tr ng-repeat="cep in ceps | limitTo:20">\n              <td>{{cep.bairro}}</td>\n              <td>{{cep.logradouro}}</td>\n              <td>{{cep.cep}}</td>\n              <td>\n                <button class="gmd btn btn-primary" ng-click="select(cep)">Selecionar</button>\n              </td>\n            </tr>\n        </table>\n      </div>\n    </div>\n\n  </form>\n\n</div>\n\n'},function(e,t,n){"use strict";function a(){var e={servicesAPI:"http://45.33.100.20/services-api",translation:{country:"Pais",zipCode:"CEP",premisseType:"Tipo Logradouro",premisse:"Logradouro",number:"Número",information:"Complemento",neighbourhood:"Bairro",state:"UF",stateCode:"Cód. UF",localization:"Localidade",formalCode:"Cód. IBGE",coordinates:"Latitude e Longitude"}},t=function(t){return e.servicesAPI=t},n=function(){return e.servicesAPI},a=function(t){return Object.keys(t).forEach(function(n){return e.translation[n]=t[n]})},o=function(){return e.translation};return{setServicesAPI:t,getServicesAPI:n,setTranslation:a,getTranslation:o,$get:function(){return{setServicesAPI:t,getServicesAPI:n,setTranslation:a,getTranslation:o}}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=[],t.default=a},function(e,t,n){"use strict";!function(){function e(e,t,n){function a(e){return e||o}var o=n.getServicesAPI();return{everyUf:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],everyLogradouro:["Outros","Aeroporto","Alameda","Área","Avenida","Campo","Chácara","Colônia","Condomínio","Conjunto","Distrito","Esplanada","Estação","Estrada","Favela","Fazenda","Feira","Jardim","Ladeira","Largo","Lago","Lagoa","Loteamento","Núcleo","Parque","Passarela","Pátio","Praça","Quadra","Recanto","Residencial","Rodovia","Rua","Setor","Sítio","Travessa","Trevo","Trecho","Vale","Vereda","Via","Viaduto","Viela","Via"],availableCountries:["Brasil"],returnFormattedObject:function(){return{zipCode:null,premisseType:null,premisse:null,number:null,information:null,neighbourhood:null,localization:null,state:null,country:null}},getLocations:function(t,n){return e.get(a(n)+"/public/buscar-cidades?uf="+t)},getGoogleCoords:function(e,t){function n(){a.readyState===XMLHttpRequest.DONE&&t({data:a.responseText,status:a.status})}var a;a=new XMLHttpRequest,a.onreadystatechange=n,a.open("GET","http://maps.google.com/maps/api/geocode/json?address="+e),a.send()},getPremisseByUFAndCity:function(t,n,o){return e.get(a(o)+"/public/buscar-logradouros?uf="+t+"&cidade="+n)},searchCepByUfAndCityAndPremisse:function(t,n,o,r){return e.get(a(r)+"/public/buscar-endereco-completo?uf="+t+"&cidade="+n+"&logradouro="+o)},getCep:function(t,n){return e.get(a(n)+"/public/busca-cep/"+t)}}}e.$inject=["$http","$q","$gumgaAddress"],angular.module("gumga.address.services",[]).factory("GumgaAddressService",e)}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,a,o,r,l){function d(){try{return!!angular.module("gumga.layout")}catch(e){return!1}}var c=d()?'<div class="row">\n     <div class="col-md-8">\n      <div class="form-group" style="margin-top: 21px;">\n       <gmd-select ng-model="value.country"\n                     ng-disabled="true"\n                     placeholder="{{getTranslateByKey(\'country\')}}">\n        <gmd-option    ng-repeat="pais in factoryData.availableCountries"\n                       ng-value="pais"\n                       ng-label="pais">\n          {{pais}}\n        </gmd-option>\n      </gmd-select>\n      </div>\n      </div>\n     <div class="col-md-4">\n      <div class="form-group">\n        <a data-ng-click="openModal()" style="cursor: pointer;margin: 0;float: right;" class="text text-primary">Não sabe?</a>\n        <div class="input-group" style="width: 100%;">\n          <gmd-input>\n            <input type="text"\n                   class="form-control gmd"\n                   ng-keypress="custom($event,value.zipCode)"\n                   ng-keyup="notfound=false"\n                   gumga-mask="99999-999"\n                   ng-model="value.zipCode"  id="input{{::id}}"\n                   required>\n            <label for="input{{::id}}" class="control-label">{{getTranslateByKey(\'zipCode\')}}</label>\n          </gmd-input>\n          <span class="input-group-btn">\n            <button ng-show="!notfound" style="margin-bottom: 22px;" class="btn btn-primary gmd" type="button" ng-click="searchCep(value.zipCode)" ng-disabled="loader{{::id}}" id="buttonSearch{{::id}}"><i class="glyphicon glyphicon-search"></i></button>\n            <button ng-show="notfound"  style="margin-bottom: 22px;" uib-tooltip="Cep não encontrado!" popover-trigger="\'mouseenter\'" class="btn btn-danger gmd" type="button"><i class="glyphicon glyphicon-info-sign"></i></button>\n          </span>\n        </div>\n\n      </div>\n     </div>\n    </div>':'<div class="row">\n     <div class="col-md-8">\n    \t<div class="form-group">\n       <label for="country">{{getTranslateByKey(\'country\')}}</label>\n    \t  <select ng-readonly="true" ng-model="value.country" class="form-control" ng-options="pais for pais in factoryData.availableCountries"></select>\n    \t</div>\n    \t</div>\n     <div class="col-md-4">\n    \t<div class="form-group">\n       <label for="input{{::id}}">{{getTranslateByKey(\'zipCode\')}}</label>\n       <a data-ng-click="openModal()" style="cursor: pointer;margin: 0;float: right;" class="text text-primary">Não sabe?</a>\n    \t  <div class="input-group" style="width: 100%;">\n    \t\t<input type="text" ng-keyup="notfound=false" class="form-control" gumga-mask="99999-999" ng-model="value.zipCode" id="input{{::id}}" ng-keypress="custom($event,value.zipCode)">\n    \t\t<span class="input-group-btn">\n    \t    <button ng-show="!notfound" class="btn btn-primary" type="button" ng-click="searchCep(value.zipCode)" ng-disabled="loader{{::id}}" id="buttonSearch{{::id}}"><i class="glyphicon glyphicon-search"></i></button>\n    \t    <button ng-show="notfound" uib-popover="Cep não encontrado!" popover-trigger="\'mouseenter\'" class="btn btn-danger" type="button"><i class="glyphicon glyphicon-info-sign"></i></button>\n    \t\t</span>\n    \t  </div>\n    \t</div>\n     </div>\n    </div>',u=d()?'\n      <div class="form-group">\n        <gmd-select ng-model="value.premisseType" placeholder="{{getTranslateByKey(\'premisseType\')}}">\n          <gmd-select-search ng-model="searchStreetTypes"\n                placeholder="Buscar...">\n          </gmd-select-search>\n         <gmd-option    ng-repeat="type in streetTypes | filter: searchStreetTypes track by $index"\n                        ng-value="type"\n                        ng-label="type">\n           {{type}}\n         </gmd-option>\n       </gmd-select>\n      </div>\n    ':'\n      <div class="form-group">\n       <label for="tipoLogradouro">{{getTranslateByKey(\'premisseType\')}}</label>\n       <input type="text" ng-model="value.premisseType" typeahead-min-length="0" uib-typeahead="type for type in streetTypes | filter:$viewValue | limitTo:8" typeahead-editable="false" typeahead-show-hint="true" typeahead-min-length="0" class="form-control" typeahead-editable="false" typeahead-show-hint="true" typeahead-min-length="0">\n      </div>\n    ',p=d()?'\n      <div class="form-group">\n        <gmd-input>\n         <input type="text"\n                class="form-control gmd"\n                ng-blur="searchCoordsOnPremisse(value, true)"\n                ng-model="value.premisse"\n                required>\n         <span class="bar"></span>\n         <label class="control-label">{{getTranslateByKey(\'premisse\')}}</label>\n       </gmd-input>\n      </div>\n    ':'\n      <div class="form-group">\n       <label for="premisse">{{getTranslateByKey(\'premisse\')}}</label>\n       <input type="text" ng-model="value.premisse" class="form-control" ng-blur="searchCoordsOnPremisse(value, true)"/>\n      </div>\n    ',g=d()?'\n    <div class="form-group">\n      <gmd-input>\n       <input type="text"\n              class="form-control gmd"\n              ng-blur="searchCoordsOnNumber(value, true)"\n              ng-model="value.number"\n              required>\n       <span class="bar"></span>\n       <label class="control-label">{{getTranslateByKey(\'number\')}}</label>\n     </gmd-input>\n    </div>\n    ':'\n    <div class="form-group">\n    \t\t<label for="number">{{getTranslateByKey(\'number\')}}</label>\n    \t\t<input type="text" ng-model="value.number" class="form-control" id="numberInput{{::id}}" ng-blur="searchCoordsOnNumber(value, true)"/>\n    </div>\n    ',m='<div class="row">\t\t<div class="col-md-4">'+u+'\t\t</div>\t\t<div class="col-md-8">'+p+"\t\t</div></div>",v='<div class="row">\t\t<div class="col-md-4">'+u+'\t\t</div>\t\t<div class="col-md-5">'+p+'\t\t</div>\t\t<div class="col-md-3">'+g+"\t\t</div></div>",b=d()?'\n      <div class="row">\n    \t\t<div class="col-md-6">\n    \t\t\t\t<div class="form-group">\n                <gmd-input>\n                  <input type="text"\n                         class="form-control gmd"\n                         ng-model="value.information"\n                         required>\n                  <span class="bar"></span>\n                  <label class="control-label">{{getTranslateByKey(\'information\')}}</label>\n                </gmd-input>\n    \t\t\t\t</div>\n    \t\t</div>\n    ':'\n     <div class="row">\n    \t\t<div class="col-md-6">\n    \t\t\t\t<div class="form-group">\n    \t\t\t\t\t\t<label for="information">{{getTranslateByKey(\'information\')}}</label>\n    \t\t\t\t\t\t<input type="text" ng-model="value.information" class="form-control"/>\n    \t\t\t\t</div>\n    \t\t</div>\n      ',y=d()?'\n      <div class="row">\n          <div class="col-md-12">\n              <div class="form-group">\n                  <gmd-input>\n                    <input type="text"\n                           class="form-control gmd"\n                           ng-model="value.neighbourhood" id="name"\n                           required>\n                    <span class="bar"></span>\n                    <label for="name" class="control-label">{{getTranslateByKey(\'neighbourhood\')}}</label>\n                  </gmd-input>\n              </div>\n          </div>\n      </div>\n    ':'\n      <div class="row">\n      \t\t<div class="col-md-12">\n      \t\t\t\t<div class="form-group">\n      \t\t\t\t\t\t<label for="neighbourhood">{{getTranslateByKey(\'neighbourhood\')}}</label>\n      \t\t\t\t\t\t<input type="text" ng-model="value.neighbourhood" class="form-control"/>\n      \t\t\t\t</div>\n      \t\t</div>\n      </div>\n    ',f=d()?'\n    <div class="form-group">\n      <gmd-select ng-model="value.state" placeholder="{{getTranslateByKey(\'state\')}}">\n        <gmd-select-search ng-model="searchUF"\n                placeholder="Buscar...">\n        </gmd-select-search>\n        <gmd-option    ng-repeat="uf in factoryData.ufs | filter: searchUF"\n                       ng-value="uf"\n                       ng-label="uf">\n          {{uf}}\n        </gmd-option>\n      </gmd-select>\n\t\t</div>\n    ':'<div class="form-group">\n        <label for="uf">{{getTranslateByKey(\'state\')}}</label>\n    \t\t<select ng-model="value.state" class="form-control" ng-options="uf for uf in factoryData.ufs"></select>\n    </div>',h=d()?'\n    <div class="form-group">\n      <gmd-input>\n        <input type="text"\n          class="form-control gmd"\n          ng-model="value.stateCode"\n          required>\n        <span class="bar"></span>\n        <label for="stateCode">{{getTranslateByKey(\'stateCode\')}}</label>\n      </gmd-input>\n\t\t</div>\n    ':'\n    <div class="form-group">\n\t\t\t\t<label for="stateCode">{{getTranslateByKey(\'stateCode\')}}</label>\n\t\t\t\t<input type="text" ng-model="value.stateCode" class="form-control"/>\n\t\t</div>\n    ',C=d()?'\n    <div class="form-group">\n      <gmd-input>\n        <input type="text"\n          class="form-control gmd"\n          ng-model="value.localization"\n          required>\n        <span class="bar"></span>\n        <label class="control-label">{{getTranslateByKey(\'localization\')}}</label>\n      </gmd-input>\n    </div>\n    ':'\n    <div class="form-group">\n    \t\t<label for="localization">{{getTranslateByKey(\'localization\')}}</label>\n    \t\t<input type="text" ng-model="value.localization" class="form-control"/>\n    </div>\n    ',A=d()?'<div class="form-group">\n         <gmd-input>\n           <input type="text"\n             class="form-control gmd"\n             id="CodIBGE{{::id}}"\n             ng-model="value.formalCode"\n             required>\n           <span class="bar"></span>\n           <label for="CodIBGE{{::id}}" class="control-label">{{getTranslateByKey(\'formalCode\')}}</label>\n         </gmd-input>\n     </div> ':'<div class="form-group">\n    \t\t<label for="CodIBGE{{::id}}">{{getTranslateByKey(\'formalCode\')}}</label>\n    \t\t<input type="text" ng-model="value.formalCode" class="form-control" id="CodIBGE{{::id}}"/>\n    </div> ',O="<div class=\"row\">\t\t<div class=\"{{withStateCode ? 'col-md-2' : 'col-md-4'}}\">"+f+'\t\t</div>\t\t<div class="col-md-2" ng-show="withStateCode">'+h+'\t\t</div>\t\t<div class="col-md-8">'+C+"\t\t</div></div>",T="<div class=\"row\">\t\t<div class=\"{{withStateCode ? 'col-md-2' : 'col-md-4'}}\">"+f+'\t\t</div>\t\t<div class="col-md-2" ng-show="withStateCode">'+h+'\t\t</div>\t\t<div class="col-md-4">'+C+'\t\t</div>\t\t<div class="col-md-4">'+A+"\t\t</div></div>",E=d()?'\n      <div class="col-md-6">\n       <div class="form-group" style="margin-top: -24px;">\n          <label for="Latitude{{::id}}" style="font-size: 14px;color: #999;font-weight: normal;pointer-events: none;">{{getTranslateByKey(\'coordinates\')}}</label>\n       <div class="input-group">\n       <div class="input-group-btn" uib-tooltip="Visualizar mapa">\n         <button type="button" class="btn btn-default btn-block" ng-disabled="!value.localization" ng-click="openMaps(value)" target="_blank"><i class="glyphicon glyphicon-map-marker"></i></button>\n       </div>\n       <div class="input-group-btn" style="width:calc(50% - 24px)">\n         <input style="border-left: 0px; border-right: 0px;" type="text" ng-model="value.latitude" class="form-control" id="Latitude{{::id}}"/>\n       </div>\n       <input style="" type="text" ng-model="value.longitude" class="form-control" id="Longitude{{::id}}"/>\n       <div class="input-group-btn">\n          <button type="button" uib-tooltip="Buscar Coordenadas" class="btn btn-default btn-block" ng-click="searchCoords(value)"><i class="glyphicon glyphicon-globe"></i></button>\n       </div>\n     </div></div>\n    ':'\n    <div class="col-md-6">\n     <div class="form-group">\n        <label for="Latitude{{::id}}">{{getTranslateByKey(\'coordinates\')}}</label>\n     <div class="input-group">\n     <div class="input-group-btn" uib-tooltip="Visualizar mapa">\n       <button type="button" class="btn btn-default btn-block" ng-disabled="!value.localization" ng-click="openMaps(value)" target="_blank"><i class="glyphicon glyphicon-map-marker"></i></button>\n     </div>\n     <div class="input-group-btn" style="width:calc(50% - 24px)">\n       <input style="border-left: 0px; border-right: 0px;" type="text" ng-model="value.latitude" class="form-control" id="Latitude{{::id}}"/>\n     </div>\n     <input style="" type="text" ng-model="value.longitude" class="form-control" id="Longitude{{::id}}"/>\n     <div class="input-group-btn">\n        <button type="button" uib-tooltip="Buscar Coordenadas" class="btn btn-default btn-block" ng-click="searchCoords(value)"><i class="glyphicon glyphicon-globe"></i></button>\n     </div>\n    </div></div>\n    ';return{restrict:"E",scope:{value:"=",onSearchCepStart:"&?",onSearchCepSuccess:"&?",onSearchCepError:"&?",apiSearchCep:"@?",coordsByCep:"@?",coordsByPremisse:"@?",coordsByNumber:"@?"},link:function(t,r,d,u){function p(e){return void 0==e||"true"==e}function g(e){return"true"==e}if(t.cities=[],t.getTranslateByKey=function(e){return l.getTranslation()[e]},function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(t.value)&&(t.value=e.returnFormattedObject()),d.countryCep=p(d.countryCep),d.street=p(d.street),d.streetNumber=p(d.streetNumber),d.complement=p(d.complement),d.neighborhood=p(d.neighborhood),d.stateCity=p(d.stateCity),d.stateCityIbge=p(d.stateCityIbge),d.latLng=p(d.latLng),d.maps=p(d.maps),d.coordsByCep=g(d.coordsByCep),d.coordsByPremisse=g(d.coordsByPremisse),d.coordsByNumber=g(d.coordsByNumber),d.stateCode&&(t.withStateCode=p(d.stateCode)),t.streetTypes=["AV","AVENIDA","RUA","ROD.","BC","TRAVESSA","ALAMEDA","VIELA","CAMINHO","ESTRADA","PRAÇA","PASSAGEM","VILA","VIADUTO","RODOVIA","BECO","ACESSO","LARGO","VIA","CAMPO","MONTE","LADEIRA","CALÇADA","LOTEAMENTO","ROTATÓRIA","PASSEIO","NÚCLEO","PARQUE","ANTIGA","LAGO","BOULEVARD","ACAMPAMENTO","COMPLEXO","CONTORNO","BALÇO","CONJUNTO","MORRO","CONDOMÍNIO","TERMINAL","ESCADA","FAVELA","COLÔNIA","RECANTO","ALTO","ILHA","JARDIM","PASSARELA","PONTE","GALERIA","VALE","VEREDA","ENTRADA","BULEVAR","TRECHO","TÚNEL","ESTACIONAMENTO","QUADRA","BOSQUE","RETORNO","PÁTIO","PRAIA","RAMAL","BAIXA","CHÁCARA","SÍTIO","UNIDADE","RESIDENCIAL","FEIRA","ESTAÇÂO","RÓTULA","CANAL","FAZENDA","RETIRO","SETOR","RAMPA","ESPLANADA","CAMPUS","BLOCO","CENTRO","MÓDULO","ESTÁDIO","ESCADARIA","AEROPORTO","SERVIDÃO","FERROVIA","TREVO","PORTO","ATALHO","DISTRITO","CORREDOR","FONTE","CÓRREGO","CIRCULAR","CAIS","SUBIDA","LAGOA","PROLONGAMENTO","DESCIDA","PARALELA","ELEVADA","RETA","PONTA","VALA","BURACO","MARINA","FORTE","PARADA","LINHA","FRANCISCO","MARECHAL","ROD.","CICLOVIA"],d.name||console.error("É necessário passar um parâmetro 'name' como identificador para GumgaAddress"),(d.street&&d.streetNumber||d.stateCity&&d.stateCityIbge)&&console.error("É necessário usar ao menos um dos elementos principais [street ou street-number e state-city ou state-city-ibge] para GumgaAddress"),!d.countryCep&&(d.onSearchCepStart||d.onSearchCepSuccess||d.onSearchCepError))throw"É necessário uso do atributo country-cep para uso das funções [on-search-cep-start / on-search-cep-success / on-search-cep-error]";var f="";f=f.concat('<div class="row"> <div class="col-md-12 col-sm-12 col-xs-12">   <accordion>\t  <accordion-group is-open="false" heading="{{::title}}">'),d.countryCep&&(f=f.concat(c)),d.stateCity&&(f=f.concat(O)),d.stateCityIbge&&(f=f.concat(T)),d.neighborhood&&(f=f.concat(y)),d.street&&(f=f.concat(m)),d.streetNumber&&(f=f.concat(v)),d.complement&&(f=f.concat(b)),d.latLng&&(f=f.concat(E)),f=f.concat("\t\t\t\t\t\t</accordion-group>\t\t\t\t</accordion>\t\t</div></div>"),r.append(n(f)(t)),t.title=d.title||"Endereço",t.id=d.name,t["loader"+t.id]=!1,t["maps"+t.id]=!1,t.factoryData={ufs:e.everyUf,logs:e.everyLogradouro,availableCountries:e.availableCountries},t.value.country=t.factoryData.availableCountries[0];var h={searchCepStart:d.onSearchCepStart?t.onSearchCepStart:angular.noop,searchCepSuccess:d.onSearchCepSuccess?t.onSearchCepSuccess:angular.noop,searchCepError:d.onSearchCepError?t.onSearchCepError:angular.noop};t.openModal=function(){a.open({template:s.default,controller:i.default,size:"lg",resolve:{factoryData:t.factoryData,apiSearchCep:t.apiSearchCep}}).result.then(function(e){e&&(t.searchCep(e.cep),t.value.zipCode=e.cep,t.value.codigo_ibge=e.codigoIbgeCidade)})},t.custom=function(e,n){n&&13==e.charCode&&t.searchCep(n)},t.openMaps=function(e){e.number||(e.number="");var t="https://www.google.com.br/maps/place/"+e.premisseType+" "+e.premisse+","+e.number+","+e.localization;window.open(t)},t.searchCoords=function(n,a){if(!(n.latitude&&n.longitude&&a)){var o=angular.copy(n);for(var r in o)o[r]||(o[r]="");var s=o.premisseType+" "+o.premisse+", "+o.number+" "+o.neighbourhood+" - "+o.state+" "+o.country;e.getGoogleCoords(s,function(e){200==e.status&&(e={data:JSON.parse(e.data)},t.value.latitude=e.data.results[0].geometry.location.lat,t.value.longitude=e.data.results[0].geometry.location.lng)})}},t.searchCoordsOnPremisse=function(e,n){d.coordsByPremisse&&t.searchCoords(e,n)},t.searchCoordsOnNumber=function(e,n){d.coordsByNumber&&t.searchCoords(e,n)},t.returnLink=function(e){return e.number||(e.number=""),"https://www.google.com.br/maps/place/"+e.premisseType+" "+e.premisse+","+e.number+","+e.localization},t.searchCep=function(n){t["loader"+t.id]=!0,h.searchCepStart(),e.getCep(n,t.apiSearchCep).then(function(e){h.searchCepSuccess({$value:e.data}),t["loader"+t.id]=!1,1==parseInt(e.data.resultado)?(t.value.premisseType=e.data.tipo_logradouro?e.data.tipo_logradouro:t.value.premisseType,t.value.premisse=e.data.logradouro?e.data.logradouro:t.value.premisse,t.value.localization=e.data.cidade?e.data.cidade:t.value.localization,t.value.neighbourhood=e.data.bairro?e.data.bairro:t.value.neighbourhood,t.value.state=e.data.uf?e.data.uf:t.value.state,t.value.stateCode=e.data.codigo_estado?e.data.codigo_estado:t.value.stateCode,d.coordsByCep&&t.searchCoords(t.value),t.value.formalCode=e.data.ibge_cod_cidade?e.data.ibge_cod_cidade:t.value.formalCode,t.value.country="Brasil"):(t.notfound=!0,document.getElementById("input"+t.id).focus(),o(function(){document.getElementById("input"+t.id).select()},10))},function(e){return h.searchCepError({$value:e})})};var C={AC:12,AL:27,AP:16,AM:13,BA:29,CE:23,DF:53,ES:32,GO:52,MA:21,MT:51,MS:50,MG:31,PA:15,PB:25,PR:41,PE:26,PI:22,RJ:33,RN:24,RS:43,RO:11,RR:14,SC:42,SP:35,SE:28,TO:17};t.setStateCode=function(e){t.value.stateCode=C[e]},t.value.zipCode}}}var r=n(1),s=a(r),l=n(0),i=a(l),d=n(2),c=a(d);n(3),o.$inject=["GumgaAddressService","$http","$compile","$uibModal","$timeout","$injector","$gumgaAddress"],angular.module("gumga.address",["gumga.address.services"]).directive("gumgaAddress",o).provider("$gumgaAddress",c.default)}]);